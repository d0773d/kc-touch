version: 1
layout:
  columns: 2
  h_spacing: 18
  v_spacing: 18
  padding: 20
  background_color: "#090912"
state:
  dev.test_counter: "0"
styles:
  card_default:
    bg_color: "#151523"
    text_color: "#F4F4F8"
    accent_color: "#57B6FF"
    radius: 20
    padding: 16
  card_warning:
    bg_color: "#2A1720"
    text_color: "#F9DEE3"
    accent_color: "#FF6F91"
    radius: 18
    padding: 16
components:
  DevDiagnosticsModal:
    layout:
      padding: 16
    widgets:
      - type: label
        text: "Diagnostics modal"
      - type: label
        text: "Counter {{dev.test_counter}}"
sensor_templates:
  ph:
    title: "{{sensor.name}}"
    subtitle: "pH Monitoring"
    style: card_default
    widgets:
      - type: label
        variant: value
        text: "{{sensor.value}} {{sensor.unit}}"
        on_load:
          - set(dev.test_counter, "{{dev.test_counter | int + 1}}")
          - modal(DevDiagnosticsModal)
          - close_modal()
      - type: label
        variant: status
        text: "Target {{sensor.min}}-{{sensor.max}}"
      - type: label
        variant: meta
        text: "FW {{sensor.firmware}} • {{sensor.address}}"
  ec:
    title: "{{sensor.name}}"
    subtitle: "Electrical Conductivity"
    style: card_default
    widgets:
      - type: label
        variant: value
        text: "{{sensor.value}} {{sensor.unit}}"
      - type: label
        variant: status
        text: "Range {{sensor.min}}-{{sensor.max}}"
      - type: label
        variant: meta
        text: "{{sensor.type}} • {{sensor.firmware}}"
  rtd:
    title: "{{sensor.name}}"
    subtitle: "Temperature"
    style: card_default
    widgets:
      - type: label
        variant: value
        text: "{{sensor.value}} {{sensor.unit}}"
      - type: label
        variant: status
        text: "Safe {{sensor.min}}-{{sensor.max}}"
  do:
    title: "{{sensor.name}}"
    subtitle: "Dissolved Oxygen"
    style: card_default
    widgets:
      - type: label
        variant: value
        text: "{{sensor.value}} {{sensor.unit}}"
      - type: label
        variant: status
        text: "{{sensor.firmware}} • {{sensor.address}}"
  orp:
    title: "{{sensor.name}}"
    subtitle: "Oxidation-Reduction"
    style: card_warning
    widgets:
      - type: label
        variant: value
        text: "{{sensor.value}} {{sensor.unit}}"
      - type: label
        variant: status
        text: "Window {{sensor.min}}-{{sensor.max}}"
  co2:
    title: "{{sensor.name}}"
    subtitle: "CO₂ Concentration"
    style: card_default
    widgets:
      - type: label
        variant: value
        text: "{{sensor.value}} {{sensor.unit}}"
      - type: label
        variant: status
        text: "{{sensor.firmware}}"
  o2:
    title: "{{sensor.name}}"
    subtitle: "Oxygen"
    style: card_default
    widgets:
      - type: label
        variant: value
        text: "{{sensor.value}} {{sensor.unit}}"
      - type: label
        variant: status
        text: "Calibration {{sensor.firmware}}"
  default:
    title: "{{sensor.name}}"
    subtitle: "{{sensor.type}} sensor"
    style: card_default
    widgets:
      - type: label
        variant: value
        text: "{{sensor.value}} {{sensor.unit}}"
        on_load:
          - set(dev.test_counter, "{{dev.test_counter | int + 1}}")
          - modal(DevDiagnosticsModal)
          - close_modal()
      - type: label
        variant: status
        text: "{{sensor.min}}-{{sensor.max}}"
      - type: label
        variant: meta
        text: "{{sensor.address}}"
