# Enable the native Tab5 display + touch path by default when targeting ESP32-P4
CONFIG_KC_TOUCH_DISPLAY_ENABLE=y
CONFIG_KC_TOUCH_DISPLAY_WIDTH=720
CONFIG_KC_TOUCH_DISPLAY_HEIGHT=1280
CONFIG_KC_TOUCH_TOUCH_ENABLE=y
CONFIG_SENSOR_MANAGER_ENABLE_FAKE_DATA=y

# Ensure Tab5 PSRAM is available for the M5Unified frame buffers
CONFIG_IDF_EXPERIMENTAL_FEATURES=y
CONFIG_SPIRAM=y
CONFIG_SPIRAM_SPEED_200M=y
CONFIG_SPIRAM_SPEED=200
CONFIG_SPIRAM_USE_MALLOC=y
CONFIG_SPIRAM_MEMTEST=y
CONFIG_SPIRAM_MALLOC_ALWAYSINTERNAL=16384
CONFIG_SPIRAM_MALLOC_RESERVE_INTERNAL=32768

## For Bluedroid as binary is larger than default size
CONFIG_PARTITION_TABLE_CUSTOM=y
CONFIG_PARTITION_TABLE_CUSTOM_FILENAME="partitions.csv"
CONFIG_PARTITION_TABLE_FILENAME="partitions.csv"

# Enable LVGL QR Code
CONFIG_LV_USE_QRCODE=y
CONFIG_LV_BUILD_EXAMPLES=n

# Fix Build Issues (DRAM overflow and EAP conflict)
CONFIG_SPIRAM_ALLOW_BSS_SEG_EXTERNAL_MEMORY=y
CONFIG_ESP_WIFI_MBEDTLS_TLS_CLIENT=n

# Optimizations for Size and Compilation Speed
CONFIG_COMPILER_OPTIMIZATION_SIZE=y
CONFIG_LOG_DEFAULT_LEVEL_INFO=y
CONFIG_LWIP_IPV6=n
CONFIG_NEWLIB_NANO_FORMAT=y
CONFIG_BT_ENABLED=n

# Disable unused MbedTLS Curves
CONFIG_MBEDTLS_ECP_DP_SECP192R1_ENABLED=n
CONFIG_MBEDTLS_ECP_DP_SECP224R1_ENABLED=n
CONFIG_MBEDTLS_ECP_DP_SECP384R1_ENABLED=n
CONFIG_MBEDTLS_ECP_DP_SECP521R1_ENABLED=n
CONFIG_MBEDTLS_ECP_DP_SECP192K1_ENABLED=n
CONFIG_MBEDTLS_ECP_DP_SECP224K1_ENABLED=n
CONFIG_MBEDTLS_ECP_DP_SECP256K1_ENABLED=n
CONFIG_MBEDTLS_ECP_DP_BP256R1_ENABLED=n
CONFIG_MBEDTLS_ECP_DP_BP384R1_ENABLED=n
CONFIG_MBEDTLS_ECP_DP_BP512R1_ENABLED=n

# Enable Remote Wi-Fi for ESP32-P4 (Required for compilation on clean environment)
# CONFIG_ESP_HOST_WIFI_ENABLED is NOT set in Win11, so we disable it here.

# Enhanced Fonts
CONFIG_LV_FONT_MONTSERRAT_28=y
CONFIG_LV_FONT_MONTSERRAT_48=y

# LVGL Memory Management
CONFIG_LV_USE_CLIB_MALLOC=y
CONFIG_LV_USE_CLIB_STRING=y
CONFIG_LV_USE_CLIB_SPRINTF=y
CONFIG_ESP_HOST_WIFI_ENABLED=n
CONFIG_ESP_WIFI_REMOTE_ENABLED=y
CONFIG_ESP_WIFI_REMOTE_LIBRARY_HOSTED=y
CONFIG_ESP_HOSTED_ENABLE_ITWT=n
CONFIG_ESP_WIFI_ENABLED=y
CONFIG_ESP_WIFI_SOFTAP_SUPPORT=y
CONFIG_KC_TOUCH_DISPLAY_ROTATION_0=n
CONFIG_KC_TOUCH_DISPLAY_ROTATION_90=y
CONFIG_LV_FONT_MONTSERRAT_20=y

# Enable the esp_video + SC202CS (SC2356) CSI stack for Tab5
CONFIG_ESP_VIDEO_ENABLE_MIPI_CSI_VIDEO_DEVICE=y
CONFIG_ESP_VIDEO_ENABLE_ISP_VIDEO_DEVICE=y
CONFIG_ESP_VIDEO_ENABLE_ISP_PIPELINE_CONTROLLER=y
CONFIG_CAMERA_XCLK_USE_ESP_CLOCK_ROUTER=y
CONFIG_CAMERA_XCLK_USE_LEDC=n
CONFIG_CAMERA_SC202CS=y
CONFIG_CAMERA_SC202CS_AUTO_DETECT_MIPI_INTERFACE_SENSOR=y
CONFIG_CAMERA_SC202CS_MIPI_RAW8_1280X720_30FPS=y
CONFIG_CAMERA_SC202CS_MIPI_DEFAULT_FMT_RAW8_1280X720_30FPS=y
